CREATE TABLE [dbo].[Disciplines] (
    [Id] [int] NOT NULL IDENTITY,
    [Title] [nvarchar](50) NOT NULL,
    CONSTRAINT [PK_dbo.Disciplines] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Groups] (
    [Id] [int] NOT NULL IDENTITY,
    [Acronym] [nvarchar](5) NOT NULL,
    [Course] [int] NOT NULL,
    [DepartmentIndex] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Groups] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Students] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](20) NOT NULL,
    [Surname] [nvarchar](20) NOT NULL,
    [Group_Id] [int],
    CONSTRAINT [PK_dbo.Students] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Group_Id] ON [dbo].[Students]([Group_Id])
CREATE TABLE [dbo].[Disciplines_Groups] (
    [Discipline_Id] [int] NOT NULL,
    [Group_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Disciplines_Groups] PRIMARY KEY ([Discipline_Id], [Group_Id])
)
CREATE INDEX [IX_Discipline_Id] ON [dbo].[Disciplines_Groups]([Discipline_Id])
CREATE INDEX [IX_Group_Id] ON [dbo].[Disciplines_Groups]([Group_Id])
ALTER TABLE [dbo].[Students] ADD CONSTRAINT [FK_dbo.Students_dbo.Groups_Group_Id] FOREIGN KEY ([Group_Id]) REFERENCES [dbo].[Groups] ([Id])
ALTER TABLE [dbo].[Disciplines_Groups] ADD CONSTRAINT [FK_dbo.Disciplines_Groups_dbo.Disciplines_Discipline_Id] FOREIGN KEY ([Discipline_Id]) REFERENCES [dbo].[Disciplines] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Disciplines_Groups] ADD CONSTRAINT [FK_dbo.Disciplines_Groups_dbo.Groups_Group_Id] FOREIGN KEY ([Group_Id]) REFERENCES [dbo].[Groups] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](255) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId])
)
BEGIN TRY
    EXEC sp_MS_marksystemobject 'dbo.__MigrationHistory'
END TRY
BEGIN CATCH
END CATCH
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201212070737131_InitialCreate', 0x1F8B0800000000000400DD5ADB6EE336107D2FD07F10F4B8C05A49760BB40B7B17A9932C8236C922CAEE6BC04863472845A92415D8DFD6877E527FA1A42EB4C48B243B7636D897C4E665389733C3198EFFFBE7DFE9A7558ABD27A02CC9C8CC3F9E1CF91E90288B13B29CF9055FBCFDD5FFF4F1E79FA6E771BAF2BE35EBDEC97562276133FF91F3FC4310B0E81152C4266912D18C650B3E89B2344071169C1C1DFD161C1F072048F88296E74D6F0BC29314CA2FE2EB3C2311E4BC40F82A8B01B37A5CCC842555EF1AA5C07214C1CCFF4A92925DBE9E8BB51709657CB2193B431C3D2006134192C38AFBDE294E90E03204BCF0BDFCFD87AF0C424E33B20C73C41384EFD63988F905C20C6A993EE4EFC78A757422C50A10211917E432B2935A7C25B010F95CA886AF255BA5D833FF2C615192E384407B9D58F907AC3B0362E80BCD72A07C7D0B8B7AF765EC7B41775FA06F54DB5A7B2403E213E1EF4E7CEFBAC0183D60507A128A0C7946E13310A08843FC05710E94C8BD500A609CAA9D7197700CCD31C2220270BE278150502A10B8964898F917C90A0433E5BF3F812CF9A362E10AAD9A915F041A0506A2720BA7055838D6B8B9464FC9B2B498C6D7679A1539F3BD5BC0E5347B4CF20A3E938D21EE9B5517344B6F33DCB1523D791F66058DA488996BC51DA24BE05DDEA6C10600BDB02869FC488838151E42D6E9BE30B135243476E6C27C0C86C4EEA7710639A23C15F25F9218565B12736234E485D4A91DA5F56485B136423B130A7B0D3ABBB30D76C772B4C1F65E5C4767CEED5C3BB94E2DEB8FE43CF2EF9E3CE764FB68AAE3B3A0E4BBF2D31FDD9FE3367A50B73BD518549E32964549C9461796F7B6C87E4E62AF979F4AD32D49840E0BCCA5D744E2F499FFC6D0928BA6F2BE0DCD5A2B5D8A4793C9B12E6B4BAA7E61CD88E062AEE766DD30D84A92B690BB27F20CC8FE66A4E095ED65368AC429B4167E93B01A52CBE521705B5CDDE0C822B42163975013750D1AB57403DB37378E4140C14D23D1528841A7F1B2D61AAB1BEAF178C80B14DB6D8E83B1541ADBB7A8346AD3437E57B811825B2E4053F8019F18E9152DF63BF0E9D183DB0F9EA38B26F229F46FEABAA02AEC9A0230705480D32B94E7E2EE685584F5881756E5E0FC6DB87DC99556348288592A2FC5AD3A49DCCC6809DAAC4C10EBFAB3293AC50D17A7C6B2615F6F0E325DDEB458E37CCD1EF9598F29630AE389ABAA6C2BF942C82D93D7520560C595B9B9ACDA1146D49205CD335CA4C49549F5EDAECBC536817AC8A4310D34FE753506861E3548EBA6196538A7CBEECD66D6A038C25C8E7D87B1942AE3DA24D4E0783A4DFDD526D38C8DA76254606D72C6E4ABC192BABD0E88266B15340A4FCE9D87415455DBB4F75723E329A882A44D440DBEBCD5BB57A6D5F44D8AF45CF3367446DA502605F6D7866E9264AA6C94E12B1A36F34B95A993B765AA4E7D76646A6B76848AE3A4AC652E992C4555193A46543D61DA1A209654720F5980A2E5BEEB9D39B9F331484B4D77B44F8BDE1E90E3CC755F10D2C3183072677D890A512A87D672E5699DB70EB7548C44B65AE27B82F7A72496496CB8661CD2895C3009FFC6739C94255FB3E00A9164018CDF657F01912F3647BF6A9D971DBA220163317EBDAD91442A60F0D56ECB97B34E57843C211A3D226AF43A7A89BEF606C241F4A6F50EEC9A7B660BA0647C3F0D806152AFFF2DFB20766C3F635B8D783204FFC1D7E87D91DDC47DAB4DAB87EA9D4CDA7BE38E33EDD09569EE70A72B4390D0CEDADD590634BA8597ECFAB6DECAB9B77BF8B6BD2AEEF6282F2C02547A0FC2E2EE679C8ADBDF283FBED084089D23DCE1DB4C60C6F8BCD4A2A2A7CF88F8054432AE8936E6A8BEC448D1D5B03624FD731A0CD62CD4FA083AB2B3706CE4C237E40C3070F04EA3EA59778E58846213F932331CE6C384A331771038F5BE0DEE1D530305C64EF1EDFB00CC56486C1F5D7E5858BD5894DA05512F1AADEC5D41B3A1E0782B34AB9FFEDE6055CFCDFCF8211366AF6ED39ED690BD79E8EE1DDAC83B9A458EBE625F5BD146DDD5DCEB51914B0663C580B2EE1D921DB6DDD9E1BEF5A63FA2B969EB8A1EA2A1A9FA8F23FA9A8E0721C7656C6F3C8DEB679A8A33E60EA08AA67B3A4615F6D7A767DAFE300AD8A2A16B3E3E8970D9FAD5AF88D92C596E48C8375502512750AA3597649135115BE3A859A2951257C0512CA2E829E5C902455C4C47C058F933A46F081762C979FA00F125B929785E702132A40FB8F3332B19F7FBCE2FBBD65D9EA73779F9B3A27D8820D84C840870437E2F121C2BBE2F2C65908384BC50EAE25CDA92CB227DB95694AE33DD8D5C846AF5A97BF00ED21C0B62EC8684E809DCBC0DEBB0ABB1E959829614A5ACA6B1D92FBE0AF8C5E9EAE3FF538C9799B72E0000, '5.0.0.net45')
ALTER TABLE [dbo].[Students] ADD [Patronymic] [nvarchar](20)
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201212092129375_AddStudentPatronymic', 0x1F8B0800000000000400DD5ADD6EDB3614BE1FB077107459A05692764057D82D322729822D4911A7BD0D188976885194465281FD6CBBD823ED1546EA8796F823518E9D05BD496CFE7C3CE7F03BE4393CFEF7EF7FA69FD7290E9E20652823B3F07872140690C45982C86A16167CF9F643F8F9D3CF3F4DCF93741D7C6FC6BD93E3C44CC266E123E7F9C72862F1234C019BA428A619CB967C12676904922C3A393AFA353A3E8EA080080556104C6F0BC2510ACB2FE2EB3C2331CC7901F0559640CCEA76D1B32851836B9042968318CEC26F0495E2F2CD5C8CBD4094F1C9B6ED0C70F000189C08480ED73C0C4E310242CA05C4CB30C8DF7FFCC6E082D38CAC1639E008E0BB4D0E45FF1260066B9D3EE6EF7DD53A3A916A4580908C0BB88CEC649650292C543E17A6E11B2956A9F62C3C432C46394604B6C78991BFC34DA741347DA5590E29DFDCC2653DFB320983A83B2FD227AA69AD395200F189F0772761705D600C1E30547612865CF08CC22F90400A384CBE02CE2125722E2C153056D5D6B8431CC36619B123827061208950502A18B8914C988517680D8530E5BF3F2059F14725C21558372DBF08360A0EC4E5144E0B68915893E61A3CA155B9639A5C5F6856E42C0C6E212EBBD923CA2BFA4CB61B71DF8CBAA0597A9BE1CE2ED59DF78BACA0B15431738DB80374057957B669B425402F2D4A8C1F8911A7C243C826DD172746534213672EB68FC121B5FB31CE600E284F85FE972481EB91604E8E2E78216D6A6769DD5971ACCDD04E87E25EC3CE6E6FC35D5F89B6DCDE8BEBE8C2B99D6B27D7A975FD919C47FEDD93E79C8C3F4D757E1694BC26798435CBA305C52F2152F57DD47DF31C47D6AF19BB9BFBF8C92963598C4A31BA8E726FBB6BCE4912F4CA5319BAA589306181B9F4E358AC3E0BDF18567261AAF3608B595BA58B7834991CEBBAB6B4EA57D63CA35CC2F5DCF55B015B61DB08BD7BCEC201DDDF782A5EEDBD8C8F815885D6CA6F4368436B397C01B9EDA4DFF2C8A2B4A16317A8B9070C8C5ABB81E9DB3BD0005074D3205A0631701A2F6B8DB1BAA17E430C798112BB2D71E48BD2EC7D0BA5319B7E097595F350DC72259BCA0FF884A757B4C4EFD0A7C70E6E3F788E2D9A934FB17F9B694655AAD9A4A49123279D5E813C1757472B47AD5B824595A0CEDF2EC62781698511C5CC920B2A69D54A2256002BA8F5CA90B5CE889B34585C70496A0C1BF6F56621D3E5CD1D6B9CAF99233FEB678A4FAA3E71E5B96D235F08BD65385D9A005A79654E2EDF110006D41297CD335CA4C415DBF5CDAE13D83640DD64624C234D7EDD8C9161478DD2FAD6786D9CD365F7B667D643D163BB1CF30EB3532AB16C43A8467F9C26236CC3346DFE28464ED886333A5F0D97D4ED75403659F3322F3E39671E865155B6D59E5FB5F823A814A90DA21AFD71DAA94D1BAADDFEF21CEA5EC056223501D773C9D2E07832428618F6D7946EC8659ACC8B4615868D4CD2646AE5B142D581D48E428D1647983841656674C9645EAB52601F55F5F06B34412C81E91E620A85E58E1C9C11BEF3B14B0B7477DC9F16DE1E98E38C9C5F90D2C31C3022717D883AA25444AE45DED33A0A1E2E1919617135240C84EC4F289121F162C3384C2772C064F1179E63542690CD802B40D012327E97FD09897CFE39FAA0559676A8FA448C25F8F5967E9034C0E0ABE4C897B84ED5873C011A3F026AD4727A415F7B81E42076D36A2376CB3DB3C4510ABE9F02C730D4EB7FAB3FC83EB69FE9AD9B783244FFC1D7F67DC19A8FE61EC8D6B76FDB8BF7BD66E83E086FAEF45EE57E9C19BA8BCD19EE3868886BDA5ABB7BE1804547B8DFAE258056303FEE7DDEF6F8B95BED40EC08A4D22D01164105E3548415465EF39522226C0E70476E3332F2394CA415159EDE230E4648A4E09A6A3E4BF5455C0A57E3DA90F6CFA98358C35BEB5BAD6701E4D808B26FC819C490C3E034AE5E9FE780C52031992F43CE61394C3A1A7D07A153EF13E6DE393590B9EC74BEFD3F04B36528E34F971F96562F764AEDC2A8173DADECC54BB3EEE178D234D3AAFE12669528CEC2E42113DB5EDDA63D152C7B8DD35DE2B4C13B6A5A8EF2675FF5D386EEAA41F698C8A5833162C058F70ECD0E5B95ED48DF2A3D78D4606DC5DB43D45D5599D4A3FCEA7869725CC6F6FA985FD9D5349CD177005334455E1F53D89FB59EB9F78731C088BAB3F9AA258ECBD6CFA5C599CDD06A0B211F6B098C3B07A51A7349965973626B123543B454E20A72908853F49472B4043117DD3164ACFCB1D477800B31E43C7D80C925B929785E70A1324C1F70E7F769F2DCEF5BBF2CAE77659EDEE4E5AF9FF6A18210130915E00DF9AD403851725F58D2200784BC50EAAC5FEE2597D9FF6AA390AE33DD8D5C40B5F9D43D7807D31C0B30764316E009BA651BB661D762D333045614A4ACC6D8CE175F05FD9274FDE93FBDAE1A1AF02F0000, '5.0.0.net45')
ALTER TABLE [dbo].[Disciplines] ADD [Factor] [real] NOT NULL DEFAULT 0
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201212092205286_AddDisciplineFactor', 0x1F8B0800000000000400DD5ADB6EDC36107D2FD07F10F418202BDB498134D84DE0AEEDC0686D079693578396B86BA114A59294E1FDB63EF493FA0B2575E152BC48DC9B6BE4C5DEE5E5706678869CE1ECBF7FFF33FDFC9CA3E009129A1578161E4F8EC200E2A44833BC9C85155BBCFD107EFEF4F34FD3F3347F0EBE77E3DE89717C26A6B3F091B1F26314D1E411E6804EF22C21052D166C92147904D2223A393AFA353A3E8E2087083956104C6F2BCCB21CD65FF8D779811358B20AA0AB228588B6EDBC27AE51836B90435A8204CEC26F38ABC565AB391F7B9111CA26EBB633C0C003A070C221197C6661708A32C0A58C215A8441F9FEE3370A63460ABC8C4BC03280EE5625E4FD0B80286C75FA58BEF755EBE844A815018C0BC6E10ABC955942A93057F99C9B86AD8458B5DAB3F02CA34956A20C43751C1FF93B5CF51A78D357529490B0D52D5CB4B32FD33088FAF3227DA29CA6CC1102F04F98BD3B0983EB0A21F080A0B4133764CC0A02BF400C096030FD0A1883048BB9B056C058555BE32E630876CBF01DE1840B0341848A10CEC09560C22CBCC89E2117A6FEF707C44BF62845B802CF5DCB2F9C8D9C03493D85910A5A241E96E602245C1D290E170679805C83A76C596FBB06F785145549C3E016A2BA9B3E6665C3C1C97A37EFBB5117A4C86F0BD4DBEAB6F33E2E2A92083B15AE1177802C21EBCB368DD62C1AE4568DF123D1EA94BB195EE5FB22D6AEBC9AF3EDA3704CED618C335802C272AEFF254EE1F386604E8EC6AC1236B5B3B4ED6C38A632B4D721B9D7B1B3DFDB71D757A235B7F7E23ABA706EE7DACA755A5D7F24E7117FF7E439273B1FC97145F06B92875BB33E5AB2E425446ABE6F74DFECE2C8FA356377731F3F39A5B448B25A8CBEA3DCDBEE9A739C0683F234865634E126AC10137E9CF0D567E11BC34A2E4C791EAC315BABF4118F2693635D5745AB6165CD33CA25DCC05DBF165089FD36D07BE02C1CD1FD8DA7E2CDDE8B201BF05548ABFC3A0E37B416C363C86C27FD9A4716A50D1DFB40DD3D6060B4DA8D4C5FDF810680A49B06A118C4C0E9BC4C19637543FD8618F30229B62A71E48BD2EDBD82D2994DBF84FACA79286EB9924DE5477CC2D32B14F17BF419B083DB0F76B14577F249F6AFD3D5A8C957BBBC367224B6D32B5096FCEA5012DDB625889B2C77FE36DE3C93CC1B8C28A19684524A2B57E2B1025842AD5784AC6D5ADDE5D2FC824B7363D8B8AF770B992E6FEE58E77CDD1CF1593F537CF2FD892B59568D7CC1F516E1746D0268E59539B97E8C0008104B5C362F509563576C3734BBCD825580B6C91FA3CB5D5590AECD4499469A15F4CD888CDDD01C43DF60AFED773AFEDE76DE7AB47A6CBA63DE61F65BA6A72A846CF4C7E9F24A15A66BF34731324B15CEE87C355C9277E001D964CDEEBCF8E49C79184635399B3ABF69F1479089960A221BFD71D404498552DB5F9E43FD6BDC4AA42E6CDB952C1D8E272344A0627F93E9076EA6C9BC68D460D8C8244C2657DE54A8361CDB52A88DC5E1264EB33ABFBAA4223B9689B48FAA7A10B731412CE1ED1E221389E58E3F9C7982F3C94C0B97B7DC1F056F0FCC71C6DF2F48E9710E18F1BC3E441E5132AED7E2F7691B4B8F57AF8CE0BA1912065CF6A72C158175BCA20CE613316012FF85E628ABD3D06EC015C0D902527657FC09B178443AFAA015B9B628404594A6E8F556A1326180D1B7CD0DDFF37A0528FC0448F208885156DAA98E4420402310AFBD527310D36B451ABBF177ACB5D482EFA7D2320EF5FA8B0607D947B55E60DDC493CD3D487BF6DF17ACF97AEF816C7D84B73DBDDF6B861E82F0E6CA6034E0C799B1EBDC9CE10EA5C6B8A6ADB5BD178E587403F7DBB616A1E4039B150A6CAFB0DB1531F88E4022DC12201E975046786462A4465F4986B9CD01EAC96D06573E8789B0A2C4D37BF8C108B1105C53CD67A9A1A04DE26A5C1BD37E97828C3542B63E1A7B56628E8D38FD069F4104190C4E93E6197C0E68025293F9226A1D97C3A4A3D177103A0DBEA5EE9D5323C9CF56E7DBFF43305B92B3F9E9F2C3D2EAC54EA96D18F5A2A795BD8A6A16601CAFA26666365C4B6D72CD59983E147CDB9BDB74A094662FB6BA6BAD36784771CD51871D2AC3DAD05DC5D00113B97430468C18EBDEA1D961CBC33DE995EA854731D856453E440158D66B3DEAC08EC72AC7656C2FD4F9D57F4DC3197D073045576DF63185FD656CC7BD3F8C013628809B0F63FCB8547EFCCDCF6C9A2DD710E2BD17C3A47750CA319778517427B6265137444B25AE2003293F454F09CB162061BC3B8194D6BFDAFA0E50C5879CE70F30BDC437152B2BC65586F903EAFD504E9CFB43EBD755FEBECCD39BB2FE19D63E54E062665C0578837FAB32944AB92F2C699003425C286DD62FF69289EC7FB99248D785EE462EA0D67CF21EBC8379893818BDC13178826ED9C66DD8B7D8F42C034B0272DA62ACE7F3AF9C7E69FEFCE93FBD09756BBE300000, '5.0.0.net45')
